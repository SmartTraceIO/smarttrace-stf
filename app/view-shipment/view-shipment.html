<div class="note">
    <div class="row" style="margin-bottom: 10px">
        <div class="col-sm-12">
            <div class="pull-left bold" style="font-size: 18px;">
                <span class="uppercase link"><i class="fa fa-search"></i>&nbsp;Search</span>
            </div>
            <div class="pull-right bold" style="font-size: 18px;">
                <span class="link" ng-show="!vm.AdvanceSearch" ng-click="vm.toggleSearch()">
                    <img src="theme/img/searchAdvanced.png" tooltip="Swap to Advance Search" tooltip-append-to-body="true" tooltip-trigger="mouseenter" tooltip-placement="top" />
                    <h5 style="background-color: #5BCA45; color: #ffffff">More options</h5>
                </span>
                <span class="link" ng-show="vm.AdvanceSearch" ng-click="vm.toggleSearch()">
                    <img src="theme/img/searchBasic.png" tooltip="Swap to Basic Search" tooltip-append-to-body="true" tooltip-trigger="mouseenter" tooltip-placement="top" />
                    <h5>Less options</h5>
                </span>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <div class="text-center">
                <label style="margin-bottom: 10px; margin-right: 50px;">
                    <input type="checkbox" ng-model="vm.ViewShipment.excludePriorShipments">Exclude Prior Shipments
                </label>
                <div class="btn-group" role="group" style="margin-bottom: 10px; margin-right: 50px;">
                    <button type="button" class="btn btn-default" ng-model="vm.ViewShipment.alertsOnly" ng-class="{'green': vm.ViewShipment.alertsOnly == true}" ng-click="vm.ViewShipment.alertsOnly = true;">Shipments with alerts</button>
                    <button type="button" ng-model="vm.ViewShipment.alertsOnly" ng-class="{'green': vm.ViewShipment.alertsOnly == false}" ng-click="vm.ViewShipment.alertsOnly = false;" class="btn btn-default">All shipments</button>
                </div>
                <div class="btn-group" role="group" style="margin-bottom: 10px">
                    <button ng-click="vm.ViewShipment.lastDay = !vm.ViewShipment.lastDay;
                                vm.specificDates = false;
                                vm.ViewShipment.last2Days = false;
                                vm.ViewShipment.lastWeek = false;
                                vm.ViewShipment.lastMonth = false;
                                vm.ViewShipment.shipmentDateFrom=null;
                                vm.ViewShipment.shipmentDateTo=null;"
                            ng-class="{'green': vm.ViewShipment.lastDay == true}"
                            type="button" class="btn btn-default">Last 24 hours</button>
                    <button ng-click="vm.ViewShipment.last2Days = !vm.ViewShipment.last2Days;
                                vm.specificDates = false;
                                vm.ViewShipment.lastDay = false;
                                vm.ViewShipment.lastWeek = false;
                                vm.ViewShipment.lastMonth = false;
                                vm.ViewShipment.shipmentDateFrom=null;
                                vm.ViewShipment.shipmentDateTo=null;"
                            ng-class="{'green': vm.ViewShipment.last2Days == true}"
                            type="button" class="btn btn-default">Last 48 hours</button>
                    <button ng-click="vm.ViewShipment.lastWeek = !vm.ViewShipment.lastWeek;
                                vm.specificDates = false;
                                vm.ViewShipment.lastDay = false;
                                vm.ViewShipment.last2Days = false;
                                vm.ViewShipment.lastMonth = false;
                                vm.ViewShipment.shipmentDateFrom=null;
                                vm.ViewShipment.shipmentDateTo=null;"
                            ng-class="{'green': vm.ViewShipment.lastWeek == true}"
                            type="button" class="btn btn-default">Last 7 days</button>
                    <button ng-click="vm.ViewShipment.lastMonth = !vm.ViewShipment.lastMonth;
                                vm.specificDates = false;
                                vm.ViewShipment.lastDay = false;
                                vm.ViewShipment.last2Days = false;
                                vm.ViewShipment.lastWeek = false;
                                vm.ViewShipment.shipmentDateFrom=null;
                                vm.ViewShipment.shipmentDateTo=null;"
                            ng-class="{'green': vm.ViewShipment.lastMonth == true}"
                            type="button" class="btn btn-default">Last 30 days</button>
                    <button type="button" class="btn default" ng-click="vm.specificDates = !vm.specificDates;ViewShipment.lastDay = false;vm.ViewShipment.last2Days=false;vm.ViewShipment.lastWeek=false;vm.ViewShipment.lastMonth=false">
                        <i class="fa fa-calendar"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="vm.specificDates">
        <div class="row">
            <div class="col-sm-offset-3 col-sm-3">
                <label>Date From</label>
                <div class="input-group">
                    <input show-button-bar="false" id="DateFrom" type="text"
                           class="form-control" placeholder="Select Date From"
                           uib-datepicker-popup="dd-MMM-yyyy"
                           is-open="popupFrom"
                           ng-click="popupFrom = true"
                           ng-model="vm.ViewShipment.shipmentDateFrom" close-text="Close" />
                    <label for="DateFrom" class="input-group-addon">
                        <i class="glyphicon glyphicon-calendar"></i>
                    </label>
                </div>
            </div>
            <div class="col-sm-3">
                <label>Date To</label>
                <div class="input-group">
                    <input show-button-bar="false" id="txtDateTo" type="text" class="form-control"
                           min="vm.ViewShipment.shipmentDateFrom" placeholder="Select Date To"
                           is-open="popupTo"
                           ng-click="popupTo = true"
                           uib-datepicker-popup="dd-MMM-yyyy"
                           ng-model="vm.ViewShipment.shipmentDateTo" close-text="Close" />
                    <label for="txtDateTo" class="input-group-addon">
                        <i class="glyphicon glyphicon-calendar"></i>
                    </label>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="!vm.AdvanceSearch">
        <div class="col-sm-12 text-center">
            <button class="btn green" type="button" ng-click="vm.SearchBasic()"><i class="fa fa-search"></i>&nbsp;Search</button>
            <button class="btn default" type="button" ng-click="vm.ResetSearchCriteria()"><i class="fa fa-times"></i>&nbsp;Reset</button>
        </div>
    </div>
    <div ng-if="vm.AdvanceSearch">
        <div class="row" style="margin-bottom: 10px">
            <div class="col-sm-3">
                <label>Shipped From</label>
                <ui-select multiple
                           ng-model="vm.ViewShipment.shippedFromLocation"
                           theme="select2"
                           ng-disabled="disabled"
                           style="width:100%">
                    <ui-select-match placeholder="Select Shipped From">{{$item.DisplayText}}</ui-select-match>
                    <ui-select-choices repeat="location in vm.LocationListFrom | propsFilter: {locationId: $select.search, DisplayText: $select.search}">
                        <div ng-bind-html="location.DisplayText | highlight: $select.search"></div>
                    </ui-select-choices>
                </ui-select>
            </div>
            <div class="col-sm-3">
                <label>Shipped To</label>
                <ui-select multiple
                           ng-model="vm.ViewShipment.shippedToLocation"
                           theme="select2"
                           ng-disabled="disabled"
                           style="width:100%">
                    <ui-select-match placeholder="Select Shipped To">{{$item.DisplayText}}</ui-select-match>
                    <ui-select-choices repeat="location in vm.LocationListTo | propsFilter: {locationId: $select.search, DisplayText: $select.search}">
                        <div ng-bind-html="location.DisplayText | highlight: $select.search"></div>
                    </ui-select-choices>
                </ui-select>
            </div>
            <div class="col-sm-3">

                <span class="pull-left">
                    <label>Device/Goods</label>
                    <i uib-tooltip="Enter details such as device number, goods description or po num."
                       tooltip-placement="top-left"
                       class="fa fa-info-circle"></i>
                </span>
                <!--<input type="text" class="form-control" ng-model="vm.ViewShipment.shipmentDescription" placeholder="Desc/PalletID/Asset Num" />-->
                <input type="text" class="form-control" ng-model="vm.ViewShipment.goods" placeholder="Device/Desc/PalletID" />
            </div>
            <!--div class="col-sm-2">
                <label>Device</label>
                <ui-select ng-model="vm.tracker"
                           theme="bootstrap"
                           style="width: 100%"
                           title="Please select a tracker">
                    <ui-select-match placeholder="-- Please Select --">
                        <table><tr>
                            <td ng-show="$select.selected.color">
                                <div ng-style="{width: '15px', height: '15px', 'margin-right':'10px', 'background-color': $select.selected.color}"></div>
                            </td>
                            <td>{{$select.selected.sn}}</td>
                        </tr></table>
                    </ui-select-match>
                    <ui-select-choices repeat="tker in vm.TrackerListPlus | propsFilter: {sn: $select.search}"
                                       refresh="refreshAddresses($select.search)"
                                       refresh-delay="0" null-option="anyDevice" style="width: 300px">
                        <table>
                            <tr>
                                <td ng-show="tker.color">
                                    <div ng-style="{width: '15px', height: '15px', 'margin-right':'10px', 'background-color': tker.color}"></div>
                                </td>
                                <td>
                                    <span ng-bind-html="tker.sn | highlight: $select.search" style="font-weight: 600; margin-right: 10px;"></span>
                                </td>
                                <td ng-show="tker.name">
                                    <span style="margin-right: 10px">-</span>
                                </td>
                                <td>
                                    <span ng-bind-html="tker.name | highlight: $select.search"></span>
                                </td>
                            </tr>
                        </table>
                    </ui-select-choices>
                </ui-select>
            </div-->
            <div class="col-sm-3">
                <label>Status</label>
                <select class="form-control input-sm" ng-model="vm.ViewShipment.status">
                    <option value="">-- Please Select --</option>
                    <!--<option value="AutoStart">AutoStart</option>-->
                    <option value="Default">Default</option>
                    <option value="Arrived">Arrived</option>
                    <option value="Ended">Ended</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 text-center">
                <label style="margin-bottom: 10px; margin-right: 50px;">
                    <input type="checkbox" ng-model="vm.ViewShipment.excludePriorShipments">
                    <span>Include Tracker Shipments</span>
                </label>

                <label style="margin-bottom: 10px; margin-right: 50px;">
                    <input type="checkbox" ng-model="vm.ViewShipment.excludePriorShipments">
                    <span>Include Tracker Shipments</span>
                </label>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 text-center">
                <button class="btn green" type="button" ng-click="vm.SearchAdvance()"><i class="fa fa-search"></i>&nbsp;Search</button>
                <button class="btn default" type="button" ng-click="vm.ResetSearchCriteria()"><i class="fa fa-times"></i>&nbsp;Reset</button>
            </div>
        </div>
    </div>
</div>

<div class="portlet box">
    <div class="portlet-body">
        <div class="row">
            <div class="col-sm-12">
                <table width="100%">
                    <tr>
                        <td><div class="uppercase bold pull-left" style="font-size: 18px;"><i class="fa fa-truck fa-lg"></i> Shipments</div></td>
                        <td style="text-align: center"><span class="text-error" ng-if="vm.loading">Retrieving your shipment data...</span></td>
                        <td>
                            <div style="font-size: 18px;" class="pull-right">
                                <button class="btn btn-switch" ng-class="{selected:(vm.lastView==1)}" ng-click="vm.showTable()"><i class="fa fa-table"></i></button>
                                <!--<button class="btn btn-switch" ng-class="{selected:(vm.lastView==2)}" ng-click="vm.showCard()"><i class="fa fa-th-large"></i></button>-->
                                <button class="btn btn-switch" ng-class="{selected:(vm.lastView==3)}" ng-click="vm.showMap()"><i class="fa fa-map" aria-hidden="true"></i></button>

                                <button class="btn default btn-sm uppercase" type="button" ng-click="vm.Print()">
                                    <i class="fa fa-print"></i>
                                    <span>Print</span>
                                </button>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12" style="height: 15px;"><hr /></div>
        </div>
        <div class="row" style="padding-bottom: 15px" ng-hide="vm.lastView==3">
            <!--<hr />-->
            <div class="col-sm-12" >
                <div class="pull-left">
                    <span>Show:</span>
                    <select class="form-control" style="width:auto;display:inline-block" ng-change="vm.PageSizeChanged()" ng-model="vm.ViewShipment.pageSize">
                        <option value="10" selected>10</option>
                        <option value="20">20</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>
                <div class="pull-right" ng-show="vm.lastView==2">
                    <span>Sort By:</span>
                    <select class="form-control" style="width:auto;display:inline-block"
                            ng-change="vm.SortOptionChanged()" ng-model="sc">
                        <option value="shipmentId1">CreationDate (Newest at top)</option>
                        <option value="shipmentId">CreationDate (Oldest at top)</option>
                        <option value="actualArrivalDate1">Date of Arrival (Newest at top)</option>
                        <option value="actualArrivalDate">Date of Arrival (Oldest at top)</option>
                        <option value="shipmentDate1">Date Shipped (Newest at top)</option>
                        <option value="shipmentDate">Date Shipped (Oldest at top)</option>
                        <option value="shipmentDescription">Description (A-Z)</option>
                        <option value="shipmentDescription1">Description (Z-A)</option>
                        <option value="shippedFrom">Shipped From (A-Z)</option>
                        <option value="shippedFrom1">Shipped From (Z-A)</option>
                        <option value="shippedTo">Shipped To (A-Z)</option>
                        <option value="shippedTo1">Shipped To (Z-A)</option>
                        <option value="status">Status</option>
                        <option value="deviceSN">Tracker Num (1-9)</option>
                        <option value="deviceSN1">Tracker Num (9-1)</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row" ng-if="vm.lastView==1">
            <div class="col-sm-12">
                <div class="table-responsive">
                    <table class="table table-bordered table-striped">
                        <tr>
                            <th ng-click="vm.Sorting('deviceSN')">
                                    <span class="pull-left">View Shipment
                                        <i uib-tooltip="Click to view the temperature chart for this shipment.
                                         The ShipmentNumber consists of TrackerNumber and TripCount."
                                           tooltip-placement="top-left"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='deviceSN'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='deviceSN'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                            <th ng-click="vm.Sorting('shipmentDescription')">
                                    <span class="pull-left">Shipment Description
                                        <i uib-tooltip="The default value of ShipmentDescription includes Autostart Template Description and Shipment Date. Shipment Description can be modified in the chart page."
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='shipmentDescription'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='shipmentDescription'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                            <th ng-click="vm.Sorting('shippedFrom')">
                                    <span class="pull-left">Shipment From
                                        <i uib-tooltip="Shipment From is detected when the tracker is switched on. It can be modified in the chart page."
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='shippedFrom'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='shippedFrom'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                            <th ng-click="vm.Sorting('shipmentDate')">
                                    <span class="pull-left">Shipment Date
                                        <i uib-tooltip=" The default value of Shipment Date is the time the tracker is switched on. Shipment Date can be modified in the chart page."
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='shipmentDate'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='shipmentDate'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                            <th ng-click="vm.Sorting('shippedTo')">
                                    <span class="pull-left">Shipment To
                                        <i uib-tooltip=" Shipment To is detected when the tracker reaches a destination listed in the Autostart Template. Shipment To can be modified in the chart page."
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='shippedTo'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='shippedTo'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                            <th ng-click="vm.Sorting('actualArrivalDate')">
                                    <span class="pull-left">Arrival Date
                                        <i uib-tooltip="Arrival Date is the time the system detects arrival at a destination listed in the Autostart Template. Arrival Date can be modified in the chart page."
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='actualArrivalDate'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='actualArrivalDate'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                            <th ng-click="vm.Sorting('status')">
                                    <span class="pull-left">Status
                                        <i uib-tooltip="Shipment Status can be either Default (an active shipment), Arrived (when arrival is detected) or Ended (when shipment ends but no arrival is detected)."
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='status'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='status'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                            <th ng-click="vm.Sorting('siblingCount')">
                                    <span class="pull-left">Siblings
                                        <i uib-tooltip="Siblings are the number of other trackers that appear to be travelling on the same vehicle"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='siblingCount'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='siblingCount'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                            <th ng-click="vm.Sorting('lastReadingTimeISO')">
                                    <span class="pull-left">Last Reading
                                        <i uib-tooltip="The time of the last reading for this tracker."
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='lastReadingTimeISO'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='lastReadingTimeISO'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                            <th ng-click="vm.Sorting('lastReadingTemperature')">
                                    <span class="pull-left">Temp.
                                        <i uib-tooltip="The Temperature on this last reading"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='lastReadingTemperature'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='lastReadingTemperature'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                            <th ng-click="vm.Sorting('alertSummary')">
                                    <span class="pull-left">Alerts
                                        <i uib-tooltip=" Alerts that have fired during this shipment."
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top-right"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='alertSummary'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='alertSummary'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                            </th>
                        </tr>
                        <tr ng-repeat="shipment in vm.ShipmentList">
                            <td class="text-left">
                                <table>
                                    <tr>
                                        <td width="20px">
                                            <div ng-show="shipment.status == 'Ended'" ng-style="{'background-color':shipment.color}" style="border:1px solid #5e5e5e; width:16px; height: 16px; cursor: pointer; position:relative;">
                                                <span style="color: #ffffff; font-size: 15px; font-weight: 600; position: absolute; top: -4px; left: 3px;;">&times;</span>
                                            </div>
                                            <div ng-show="shipment.status == 'Arrived'" ng-style="{'background-color':shipment.color}" style="border:1px solid #5e5e5e; width:16px; height: 16px; cursor: pointer; position:relative;">
                                                <span style="color: #ffffff; font-size: 15px; font-weight: 600; position: absolute; top: -4px; left: 2px;;">&check;</span>
                                            </div>
                                            <div ng-show="shipment.status != 'Ended' && shipment.status != 'Arrived'" ng-style="{'background-color':shipment.color}" style="border:1px solid #5e5e5e; width:16px; height: 16px; cursor: pointer; position:relative;">
                                            </div>
                                        </td>
                                        <td>
                                            <a ng-href="#/view-shipment-detail?vsId={{shipment.shipmentId}}&sn={{shipment.deviceSN}}&trip={{shipment.tripCount}}">
                                                <u>{{shipment.deviceSN}} ({{shipment.tripCount}})</u>
                                            </a>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            <td class="text-left">
                                <span>{{shipment.shipmentDescription}}</span>
                                <span ng-show="shipment.palletId!=null">(PalletID={{shipment.palletId}})</span>
                                <span ng-show="shipment.assetNum!=null">(AssetNum={{shipment.assetNum}})</span>
                            </td>
                            <td class="text-left">{{shipment.shippedFrom}}</td>
                            <td class="text-left">{{shipment.shipmentDate}}</td>
                            <td class="text-left">{{shipment.shippedTo}}</td>
                            <td class="text-left" ng-if="shipment.actualArrivalDate==null"></td>
                            <td class="text-left" ng-if="shipment.actualArrivalDate!=null">{{shipment.actualArrivalDate}}</td>
                            <td class="text-left">{{shipment.status}}</td>
                            <td class="text-left" ng-if="shipment.siblingCount!=0">{{shipment.siblingCount}}</td>
                            <td class="text-left" ng-if="shipment.siblingCount==0"></td>
                            <td class="text-left">{{shipment.lastReadingTime}}</td>
                            <td class="text-left">{{shipment.lastReadingTemperature | temperature}}</td>
                            <td class="text-left">
                                <!--show alert-->
                                <img ng-src="theme/img/alertLightOn.png" ng-if="shipment.alertSummary.LightOn" />
                                <img ng-src="theme/img/alertLightOff.png" ng-if="shipment.alertSummary.LightOff" />
                                <img ng-src="theme/img/alertCold.png" ng-if="shipment.alertSummary.Cold" />
                                <img ng-src="theme/img/alertHot.png" ng-if="shipment.alertSummary.Hot" />
                                <img ng-src="theme/img/alertCriticalCold.png" ng-if="shipment.alertSummary.CriticalCold" />
                                <img ng-src="theme/img/alertCriticalHot.png" ng-if="shipment.alertSummary.CriticalHot" />
                                <img ng-src="theme/img/alertBattery.png" ng-if="shipment.alertSummary.Battery" />
                                <img ng-src="theme/img/alertShock.png" ng-if="shipment.alertSummary.MovementStart" />
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <!--<div class="row" ng-if="vm.lastView==2">
            <div class="col-sm-6" ng-repeat="shipment in vm.ShipmentList">
                <div class="portlet box green">
                    <div class="portlet-title">
                        <div class="caption">
                            {{shipment.shipmentDescription}}
                        </div>
                    </div>
                    <div class="portlet-body" style="position:relative">
                        <div class="row">
                            <div class="col-sm-12">
                                <h4 class="pull-left">
                                    <table>
                                        <tr>
                                            <td>
                                                <div ng-style="{width:'15px', height:'15px', padding: '0px', 'margin-right':'5px', 'background-color': shipment.color}"></div>
                                            </td>
                                            <td>
                                                <span>Shipment</span>
                                                <a ng-href="#/view-shipment-detail?sn={{shipment.deviceSN}}&trip={{shipment.tripCount}}">
                                                    <u>{{shipment.deviceSN}} ({{shipment.tripCount}})</u>
                                                </a>
                                            </td>
                                        </tr>
                                    </table>
                                </h4>
                                <h4 class="pull-right">
                                    <img src="theme/img/alertLightOn.png" ng-if="shipment.alertSummary.LightOn" />
                                    <img src="theme/img/alertLightOff.png" ng-if="shipment.alertSummary.LightOff" />
                                    <img src="theme/img/alertCold.png" ng-if="shipment.alertSummary.Cold" />
                                    <img src="theme/img/alertHot.png" ng-if="shipment.alertSummary.Hot" />
                                    <img src="theme/img/alertCriticalCold.png" ng-if="shipment.alertSummary.CriticalCold" />
                                    <img src="theme/img/alertCriticalHot.png" ng-if="shipment.alertSummary.CriticalHot" />
                                    <img src="theme/img/alertBattery.png" ng-if="shipment.alertSummary.Battery" />
                                    <img src="theme/img/alertShock.png" ng-if="shipment.alertSummary.MovementStart" />
                                </h4>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12">
                                &nbsp;
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <p class="col-xs-1 text-left no-margin no-padding">
                                    <img ng-src="theme/img/locationStart.png">
                                </p>
                                <p class="col-xs-10 no-margin no-padding text-center">{{shipment.assetType}} {{shipment.assetNum}} <span ng-if="shipment.assetType != null || shipment.assetNum != null">-</span> {{shipment.status}}</p>
                                <p class="col-xs-1 text-right no-margin no-padding">
                                    <img ng-show="shipment.status=='Arrived'" class="rev-horizon" ng-src="theme/img/locationStop.png">
                                    <img ng-show="shipment.status!='Arrived'" class="rev-horizon" ng-src="theme/img/locationStopToBeDetermined.png">
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="clearfix"></div>
                            <div class="col-sm-12">
                                <div class="progress" style="max-height:5px">
                                    <div style="width: {{(shipment.percentageComplete + 1) * 100 / 101}}%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="{{shipment.percentageComplete}}" role="progressbar" class="progress-bar progress-bar-info">
                                        <span class="sr-only"> {{shipment.percentageComplete}}% Complete </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6 text-left">
                                <p class="bold no-margin no-padding">{{shipment.shippedFrom}}</p>
                                <p class="text-muted no-margin no-padding">{{shipment.shipmentDate| date:'dd MMM yyyy hh:mm a'}}</p>
                            </div>
                            <div class="col-xs-6 text-right" ng-show="shipment.shippedTo">
                                <p class="bold no-margin no-padding">{{shipment.shippedTo}}</p>
                                <p class="text-muted no-margin no-padding">
                                    &lt;!&ndash;<span ng-if="shipment.status != 'Arrived'">ETA</span>&ndash;&gt;
                                    <span ng-if="shipment.status == 'Arrived'">ARRIVED AT</span>: {{shipment.actualArrivalDate | date:'dd MMM yyyy hh:mm a'}}</p>
                            </div>
                            <div class="col-xs-6 text-right" ng-show="!shipment.shippedTo">
                                <p class="bold no-margin no-padding">To be determined</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                &nbsp;
                            </div>
                        </div>
                        <div class="row">
                            <div class="text-center shipment-marker" ng-show="shipment.siblingCount > 0">
                                {{shipment.siblingCount}} others <i uib-tooltip="Waiting your tooltip text" tooltip-append-to-body="true" tooltip-trigger="mouseenter" tooltip-placement="top" class="fa fa-info-circle"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>-->
        <div class="row" ng-if="vm.lastView==3">
            <div class="col-xs-12">
                <div id="shipmentMap" style="height: 375px" ng-init="vm.initMap()"></div>
            </div>

        </div>
        <div class="row">
            <div class="col-sm-12">
                <div class="text-center">
                    <ul uib-pagination ng-hide="vm.viewMap" ng-model="vm.ViewShipment.pageIndex"
                                    ng-change="vm.PageChanged()" total-items="vm.ShipmentList.totalCount"
                                    items-per-page="vm.ViewShipment.pageSize"
                                    boundary-links="true" rotate="false" first-text="<<" last-text=">>" next-text=">" previous-text="<">
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

