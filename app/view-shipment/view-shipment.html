<div class="note">
    <div class="row">
        <div class="col-sm-12">
            <h4 class="pull-left bold">
                <span class="uppercase link"><i class="fa fa-search"></i>&nbsp;Search</span>
            </h4>
            <h4 class="pull-right bold">
                <span class="link" ng-show="!vm.AdvanceSearch" ng-click="vm.AdvanceSearch = true">
                    <img src="theme/img/searchAdvanced.png" tooltip="Swap to Advance Search" tooltip-append-to-body="true" tooltip-trigger="mouseenter" tooltip-placement="top" />
                    <h5 style="background-color: #5BCA45; color: #ffffff">More options</h5>
                </span>
                <span class="link" ng-show="vm.AdvanceSearch" ng-click="vm.AdvanceSearch = false">
                    <img src="theme/img/searchBasic.png" tooltip="Swap to Basic Search" tooltip-append-to-body="true" tooltip-trigger="mouseenter" tooltip-placement="top" />
                    <h5>Less options</h5>
                </span>
            </h4>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 text-center">
            <div class="btn-group" role="group" aria-label="...">
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-default" ng-model="vm.ViewShipment.alertsOnly" ng-class="{'green': vm.ViewShipment.alertsOnly == true}" ng-click="vm.ViewShipment.alertsOnly = true;">Shipments with alerts</button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" ng-model="vm.ViewShipment.alertsOnly" ng-class="{'green': vm.ViewShipment.alertsOnly == false}" ng-click="vm.ViewShipment.alertsOnly = false;" class="btn btn-default">All shipments</button>
                </div>
            </div>
            <div class="btn-group" role="group" aria-label="...">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </div>
            <div class="col-sm-12 visible-xs visible-sm">&nbsp;</div>
            <div class="btn-group" role="group" aria-label="...">
                <div class="btn-group" role="group">
                    <button ng-click="vm.ViewShipment.lastDay = !vm.ViewShipment.lastDay;
                                vm.specificDates = false;
                                vm.ViewShipment.last2Days = false;
                                vm.ViewShipment.lastWeek = false;
                                vm.ViewShipment.lastMonth = false;
                                vm.ViewShipment.shipmentDateFrom=null;
                                vm.ViewShipment.shipmentDateTo=null;"
                            ng-class="{'green': vm.ViewShipment.lastDay == true}"
                            type="button" class="btn btn-default">Last 24 hours</button>
                </div>
                <div class="btn-group" role="group">
                    <button ng-click="vm.ViewShipment.last2Days = !vm.ViewShipment.last2Days;
                                vm.specificDates = false;
                                vm.ViewShipment.lastDay = false;
                                vm.ViewShipment.lastWeek = false;
                                vm.ViewShipment.lastMonth = false;
                                vm.ViewShipment.shipmentDateFrom=null;
                                vm.ViewShipment.shipmentDateTo=null;"
                            ng-class="{'green': vm.ViewShipment.last2Days == true}"
                            type="button" class="btn btn-default">Last 48 hours</button>
                </div>
                <div class="btn-group" role="group">
                    <button ng-click="vm.ViewShipment.lastWeek = !vm.ViewShipment.lastWeek;
                                vm.specificDates = false;
                                vm.ViewShipment.lastDay = false;
                                vm.ViewShipment.last2Days = false;
                                vm.ViewShipment.lastMonth = false;
                                vm.ViewShipment.shipmentDateFrom=null;
                                vm.ViewShipment.shipmentDateTo=null;"
                            ng-class="{'green': vm.ViewShipment.lastWeek == true}"
                            type="button" class="btn btn-default">Last 7 days</button>
                </div>
                <div class="btn-group" role="group">
                    <button ng-click="vm.ViewShipment.lastMonth = !vm.ViewShipment.lastMonth;
                                vm.specificDates = false;
                                vm.ViewShipment.lastDay = false;
                                vm.ViewShipment.last2Days = false;
                                vm.ViewShipment.lastWeek = false;
                                vm.ViewShipment.shipmentDateFrom=null;
                                vm.ViewShipment.shipmentDateTo=null;"
                            ng-class="{'green': vm.ViewShipment.lastMonth == true}"
                            type="button" class="btn btn-default">Last 30 days</button>
                </div>
            </div>
            <div class="col-sm-12 visible-xs">&nbsp;</div>
            <div class="btn-group">
                <button type="button" class="btn default" ng-click="vm.specificDates = !vm.specificDates;ViewShipment.lastDay = false;vm.ViewShipment.last2Days=false;vm.ViewShipment.lastWeek=false;vm.ViewShipment.lastMonth=false">
                    <i class="fa fa-calendar"></i>
                </button>
            </div>
        </div>
    </div>
    <div ng-if="vm.specificDates">
        <div class="row">
            <div class="col-sm-12">
                &nbsp;
            </div>
        </div>
        <div class="row">
            <div class="col-sm-offset-3 col-sm-3">
                <label>Date From</label>
                <div class="input-group">
                    <input show-button-bar="false" id="DateFrom" type="text"
                           class="form-control" placeholder="Select Date From"
                           uib-datepicker-popup="dd-MMM-yyyy"
                           is-open="popupFrom"
                           ng-click="popupFrom = true"
                           ng-model="vm.ViewShipment.shipmentDateFrom" close-text="Close" />
                    <label for="DateFrom" class="input-group-addon">
                        <i class="glyphicon glyphicon-calendar"></i>
                    </label>
                </div>
            </div>
            <div class="col-sm-3">
                <label>Date To</label>
                <div class="input-group">
                    <input show-button-bar="false" id="txtDateTo" type="text" class="form-control"
                           min="vm.ViewShipment.shipmentDateFrom" placeholder="Select Date To"
                           is-open="popupTo"
                           ng-click="popupTo = true"
                           uib-datepicker-popup="dd-MMM-yyyy"
                           ng-model="vm.ViewShipment.shipmentDateTo" close-text="Close" />
                    <label for="txtDateTo" class="input-group-addon">
                        <i class="glyphicon glyphicon-calendar"></i>
                    </label>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            &nbsp;
        </div>
    </div>
    <div class="row" ng-show="!vm.AdvanceSearch">
        <div class="col-sm-12 text-center">
            <button class="btn green" type="button" ng-click="vm.SearchBasic()"><i class="fa fa-search"></i>&nbsp;Search</button>
            <button class="btn default" type="button" ng-click="vm.ResetSearchCriteria()"><i class="fa fa-times"></i>&nbsp;Reset</button>
        </div>
    </div>
    <div ng-if="vm.AdvanceSearch">
        <div class="row">
            <div class="col-sm-12">
                &nbsp;
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <label>Shipped From</label>
                <ui-select multiple
                           ng-model="vm.ViewShipment.shippedFromLocation"
                           theme="select2"
                           ng-disabled="disabled"
                           style="width:100%">
                    <ui-select-match placeholder="Select Shipped From">{{$item.DisplayText}}</ui-select-match>
                    <ui-select-choices repeat="location in vm.LocationListFrom | propsFilter: {locationId: $select.search, DisplayText: $select.search}">
                        <div ng-bind-html="location.DisplayText | highlight: $select.search"></div>
                    </ui-select-choices>
                </ui-select>
            </div>
            <div class="col-sm-3">
                <label>Shipped To</label>
                <ui-select multiple
                           ng-model="vm.ViewShipment.shippedToLocation"
                           theme="select2"
                           ng-disabled="disabled"
                           style="width:100%">
                    <ui-select-match placeholder="Select Shipped To">{{$item.DisplayText}}</ui-select-match>
                    <ui-select-choices repeat="location in vm.LocationListTo | propsFilter: {locationId: $select.search, DisplayText: $select.search}">
                        <div ng-bind-html="location.DisplayText | highlight: $select.search"></div>
                    </ui-select-choices>
                </ui-select>
            </div>
            <div class="col-sm-2">
                <label>Goods</label>
                <input type="text" class="form-control" ng-model="vm.ViewShipment.shipmentDescription" placeholder="Description" />
            </div>
            <div class="col-sm-2">
                <label>Device</label>
                <select class="form-control "
                        ng-model="vm.ViewShipment.deviceImei"
                        ng-options="tracker.imei as (tracker.sn + ' - ' + tracker.name + ' - ' + tracker.description) for tracker in vm.TrackerList">
                    <option value="">-- Please Select --</option>
                </select>
            </div>
            <div class="col-sm-2">
                <label>Status</label>
                <select class="form-control input-sm" ng-model="vm.ViewShipment.status">
                    <option value="">-- Please Select --</option>
                    <!--<option value="AutoStart">AutoStart</option>-->
                    <option value="Default">Default</option>
                    <option value="InProgress">InProgress</option>
                    <option value="Arrived">Arrived</option>
                    <option value="Ended">Ended</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                &nbsp;
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 text-center">
                <button class="btn green" type="button" ng-click="vm.SearchAdvance()"><i class="fa fa-search"></i>&nbsp;Search</button>
                <button class="btn default" type="button" ng-click="vm.ResetSearchCriteria()"><i class="fa fa-times"></i>&nbsp;Reset</button>
            </div>
        </div>
    </div>
</div>
<!--<div class="row">
    <div class="col-sm-12">
        &nbsp;
    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        &nbsp;
    </div>
</div>-->
<div class="row">
    <div class="col-sm-12">
        <div class="text-center" style=" background-color: white;
    padding: 20px;">
            <h4 class="uppercase bold pull-left">
                <i class="fa fa-truck fa-lg"></i> Shipments
            </h4>
            <span class="text-error" style="vertical-align:middle" ng-if="vm.loading">Retrieving your shipment data...</span>
            <h4 class="pull-right">
                <button class="btn btn-switch" ng-class="{selected:vm.viewTable}" ng-click="vm.showTable()"><i class="fa fa-table"></i></button>
                <button class="btn btn-switch" ng-class="{selected:vm.viewCard}" ng-click="vm.showCard()"><i class="fa fa-th-large"></i></button>
                <button class="btn btn-switch" ng-class="{selected:vm.viewMap}" ng-click="vm.showMap()"><i class="fa fa-map" aria-hidden="true"></i></button>

                <button class="btn default btn-sm uppercase" type="button" ng-click="vm.Print()">
                    <i class="fa fa-print"></i>
                    <span>Print</span>
                </button>
            </h4>
            <div class="clearfix"></div>
            <hr />
            <div class="row">
                <div class="col-sm-12">
                    <div class="pull-left">
                        Show:
                        <select class="form-control" style="width:auto;display:inline-block" ng-change="vm.PageSizeChanged()" ng-model="vm.ViewShipment.pageSize">
                            <option value="10" selected>10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>

                    <div class="pull-right">
                        <span>Sort By:</span>
                        <select class="form-control" style="width:auto;display:inline-block"
                                ng-change="vm.SortOptionChanged()" ng-model="sc">
                            <option value="shipmentId1">CreationDate (Newest at top)</option>
                            <option value="shipmentId">CreationDate (Oldest at top)</option>
                            <option value="actualArrivalDate1">Date of Arrival (Newest at top)</option>
                            <option value="actualArrivalDate">Date of Arrival (Oldest at top)</option>
                            <option value="shipmentDate1">Date Shipped (Newest at top)</option>
                            <option value="shipmentDate">Date Shipped (Oldest at top)</option>
                            <option value="shipmentDescription">Description (A-Z)</option>
                            <option value="shipmentDescription1">Description (Z-A)</option>
                            <option value="shippedFrom">Shipped From (A-Z)</option>
                            <option value="shippedFrom1">Shipped From (Z-A)</option>
                            <option value="shippedTo">Shipped To (A-Z)</option>
                            <option value="shippedTo1">Shipped To (Z-A)</option>
                            <option value="status">Status</option>
                            <option value="deviceSN">Tracker Num (1-9)</option>
                            <option value="deviceSN1">Tracker Num (9-1)</option>
                        </select>
                    </div>
                </div>
                <div class="clearfix"></div>

                <!--<div class="map-container" style="display: none;">
                    <ng-map 
                        style="height:600px"
                        disable-default-u-i="true"
                        map-type-control-options="{
                            mapTypeIds: ['ROADMAP']
                        }"
                    >
                    </ng-map>
                </div>-->
            </div>
            <div class="row" ng-if="vm.viewTable">
                <div class="col-sm-12">
                    <br>
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped">
                            <tr>
                                <th ng-click="vm.Sorting('deviceSN')">
                                    <span class="pull-left">Tracker (Trip)
                                        <i uib-tooltip="A meaningful short name you assign to each tracker"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='deviceSN'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='deviceSN'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                                <th ng-click="vm.Sorting('shipmentDescription')">
                                    <span class="pull-left">Shipment Description
                                        <i uib-tooltip="A meaningful description you assign to each tracker"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='shipmentDescription'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='shipmentDescription'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                                <th ng-click="vm.Sorting('shippedFrom')">
                                    <span class="pull-left">Shipment From
                                        <i uib-tooltip="Shipment From"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='shippedFrom'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='shippedFrom'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                                <th ng-click="vm.Sorting('shipmentDate')">
                                    <span class="pull-left">Shipment Date
                                        <i uib-tooltip="Shipment Date"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='shipmentDate'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='shipmentDate'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                                <th ng-click="vm.Sorting('shippedTo')">
                                    <span class="pull-left">Shipment To
                                        <i uib-tooltip="Shipment To"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='shippedTo'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='shippedTo'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                                <th ng-click="vm.Sorting('actualArrivalDate')">
                                    <span class="pull-left">Arrival Date
                                        <i uib-tooltip="Arrival Date"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='actualArrivalDate'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='actualArrivalDate'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                                <th ng-click="vm.Sorting('status')">
                                    <span class="pull-left">Status
                                        <i uib-tooltip="Status"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='status'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='status'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                                <th ng-click="vm.Sorting('siblingCount')">
                                    <span class="pull-left">Siblings
                                        <i uib-tooltip="Sibling Count"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='siblingCount'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='siblingCount'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                                <th ng-click="vm.Sorting('lastReadingTimeISO')">
                                    <span class="pull-left">Last Reading
                                        <i uib-tooltip="Last reading time"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='lastReadingTimeISO'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='lastReadingTimeISO'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                                <th ng-click="vm.Sorting('lastReadingTemperature')">
                                    <span class="pull-left">Temp.
                                        <i uib-tooltip="Last reading temperature"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='lastReadingTemperature'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='lastReadingTemperature'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                                <th ng-click="vm.Sorting('alertSummary')">
                                    <span class="pull-left">Alerts
                                        <i uib-tooltip="Alert summary"
                                           tooltip-append-to-body="true"
                                           tooltip-trigger="mouseenter"
                                           tooltip-placement="top"
                                           class="fa fa-info-circle"></i>
                                    </span>
                                    <span class="pull-right" style="position:relative;">
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='asc' && vm.ViewShipment.sc=='alertSummary'}"><i class="fa fa-sort-asc" style="position:absolute"></i></a>
                                        <a ng-class="{'active-sort':vm.ViewShipment.so=='desc' && vm.ViewShipment.sc=='alertSummary'}"><i class="fa fa-sort-desc"></i></a>
                                    </span>
                                </th>
                            </tr>
                            <tr ng-repeat="shipment in vm.ShipmentList">
                                <!--<td>
                                    <a ng-href="#/view-shipment-detail?sn={{shipment.deviceSN}}&trip={{shipment.tripCount}}">
                                        <u>{{shipment.shipmentId}}</u>
                                    </a>
                                </td>-->
                                <td class="text-left">
                                    <a ng-href="#/view-shipment-detail?sn={{shipment.deviceSN}}&trip={{shipment.tripCount}}">
                                        <u>{{shipment.deviceSN}} ({{shipment.tripCount}})</u>
                                    </a>
                                </td>
                                <td class="text-left">{{shipment.shipmentDescription}}</td>
                                <td class="text-left">{{shipment.shippedFrom}}</td>
                                <td class="text-left">{{shipment.shipmentDate}}</td>
                                <td class="text-left">{{shipment.shippedTo}}</td>
                                <td class="text-left" ng-if="shipment.actualArrivalDate==null"></td>
                                <td class="text-left" ng-if="shipment.actualArrivalDate!=null">{{shipment.actualArrivalDate}}</td>
                                <td class="text-left">{{shipment.status}}</td>
                                <td class="text-left" ng-if="shipment.siblingCount!=0">{{shipment.siblingCount}}</td>
                                <td class="text-left" ng-if="shipment.siblingCount==0"></td>
                                <td class="text-left">{{shipment.lastReadingTimeISO}}</td>
                                <td class="text-left">{{shipment.lastReadingTemperature | temperature}}</td>
                                <td class="text-left">
                                    <!--show alert-->
                                    <img ng-src="theme/img/alertLightOn.png" ng-if="shipment.alertSummary.LightOn" />
                                    <img ng-src="theme/img/alertLightOff.png" ng-if="shipment.alertSummary.LightOff" />
                                    <img ng-src="theme/img/alertCold.png" ng-if="shipment.alertSummary.Cold" />
                                    <img ng-src="theme/img/alertHot.png" ng-if="shipment.alertSummary.Hot" />
                                    <img ng-src="theme/img/alertCriticalCold.png" ng-if="shipment.alertSummary.CriticalCold" />
                                    <img ng-src="theme/img/alertCriticalHot.png" ng-if="shipment.alertSummary.CriticalHot" />
                                    <img ng-src="theme/img/alertBattery.png" ng-if="shipment.alertSummary.Battery" />
                                    <img ng-src="theme/img/alertShock.png" ng-if="shipment.alertSummary.MovementStart" />
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="row" ng-if="vm.viewCard">
                <div class="col-sm-6" ng-repeat="shipment in vm.ShipmentList">
                    <div class="portlet box green">
                        <div class="portlet-title">
                            <div class="caption">
                                {{shipment.shipmentDescription}}
                            </div>
                            <div class="pull-right" style="margin-top:6px">
                                <a ng-href="#/view-shipment-detail?sn={{shipment.deviceSN}}&trip={{shipment.tripCount}}"
                                   class="btn btn-sm green-meadow" style="background-color:green;border-color:green">View</a>
                                <!--<a ng-href="#/view-shipment-detail/{{shipment.shipmentId}}" class="btn btn-sm green-meadow" style="background-color:green;border-color:green">View</a>-->
                            </div>
                        </div>
                        <div class="portlet-body" style="position:relative">
                            <div class="row">
                                <div class="col-sm-12">
                                    <h4 class="pull-left">Tracker {{shipment.deviceSN}} ({{shipment.tripCount}})</h4>
                                    <h4 class="pull-right">
                                        <img src="theme/img/alertLightOn.png" ng-if="shipment.alertSummary.LightOn" />
                                        <img src="theme/img/alertLightOff.png" ng-if="shipment.alertSummary.LightOff" />
                                        <img src="theme/img/alertCold.png" ng-if="shipment.alertSummary.Cold" />
                                        <img src="theme/img/alertHot.png" ng-if="shipment.alertSummary.Hot" />
                                        <img src="theme/img/alertCriticalCold.png" ng-if="shipment.alertSummary.CriticalCold" />
                                        <img src="theme/img/alertCriticalHot.png" ng-if="shipment.alertSummary.CriticalHot" />
                                        <img src="theme/img/alertBattery.png" ng-if="shipment.alertSummary.Battery" />
                                        <img src="theme/img/alertShock.png" ng-if="shipment.alertSummary.MovementStart" />
                                    </h4>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        &nbsp;
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <p class="col-xs-1 text-left no-margin no-padding"><i class="fa fa-home"></i></p>
                                    <p class="col-xs-10 no-margin no-padding text-center">{{shipment.assetType}} {{shipment.assetNum}} <span ng-if="shipment.assetType != null || shipment.assetNum != null">-</span> {{shipment.status}}</p>
                                    <p class="col-xs-1 text-right no-margin no-padding"><i class="fa fa-map-marker"></i></p>
                                </div>
                                <div class="clearfix"></div>
                                <div class="col-sm-12">
                                    <div class="progress" style="max-height:5px">
                                        <div style="width: {{(shipment.percentageComplete + 1) * 100 / 101}}%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="{{shipment.percentageComplete}}" role="progressbar" class="progress-bar progress-bar-info">
                                            <span class="sr-only"> {{shipment.percentageComplete}}% Complete </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6 text-left">
                                    <p class="bold no-margin no-padding">{{shipment.shippedFrom}}</p>
                                    <p class="text-muted no-margin no-padding">{{shipment.shipmentDate| date:'dd MMM yyyy hh:mm a'}}</p>
                                </div>
                                <div class="col-xs-6 text-right">
                                    <p class="bold no-margin no-padding">{{shipment.shippedTo}}</p>
                                    <p class="text-muted no-margin no-padding">
                                    <!--<span ng-if="shipment.status != 'Arrived'">ETA</span>-->
                                    <span ng-if="shipment.status == 'Arrived'">ARRIVED AT</span>: {{shipment.actualArrivalDate | date:'dd MMM yyyy hh:mm a'}}</p>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        &nbsp;
                                    </div>
                                </div>
                                <div class="text-center shipment-marker" ng-show="shipment.siblingCount > 0">
                                    {{shipment.siblingCount}} others <i uib-tooltip="Waiting your tooltip text" tooltip-append-to-body="true" tooltip-trigger="mouseenter" tooltip-placement="top" class="fa fa-info-circle"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" ng-if="vm.viewMap" style="margin-top: 15px;">
                <div class="col-xs-12">
                    <!--<div id="mapId"></div>-->
                    <!--<ng-map disable-default-u-i="true" map-type-control-options="{mapTypeIds: ['ROADMAP']}">-->
                    <ng-map zoom="8" center="[40.74, -74.18]" style="height: 500px;">
                    </ng-map>

                </div>

            </div>
            <uib-pagination ng-hide="vm.viewMap" class="pagination-sm" max-size="5" on-select-page="PageChanged(page)" total-items="ShipmentList.totalCount" page="ViewShipment.pageIndex" items-per-page="ViewShipment.pageSize" boundary-links="true" rotate="false" first-text="<<" last-text=">>" next-text=">" previous-text="<"></uib-pagination>

        </div>
    </div>
</div>